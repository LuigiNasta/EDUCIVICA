<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Educivica materiale studente</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/styleMateriale.css" />
  <link rel="stylesheet" href="css/styleHeader.css" />
  <link rel="stylesheet" href="css/styleDashboardDoc.css" />
  <link rel="stylesheet" href="css/styleQuizDisponibili.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

</head>
<body>

  <!-- Header -->

  <header class="main-header">
    <div class="container">
      <div class="logo">
        <a href="dashboardStudente.html">
          <img src="EDUCIVICA.jpg" width="16%" alt="Logo Educivica" />
        </a>
      </div>
      <nav class="navigation">
        <a href="errore.html" class="nav-link">
          <i class="fas fa-user"></i><br />
          <span>Profilo</span>
        </a>
        <a href="dashboardStudente.html" class="nav-link active">
          <i class="fas fa-cubes"></i><br />
          <span>Dashboard</span>
        </a>
        <a href="notifiche.html" class="nav-link">
          <i class="fas fa-bell"></i><br />
          <span>Notifiche</span>
        </a>
        <a href="errore.html" class="nav-link">
          <i class="fas fa-comments"></i><br />
          <span>Chat</span>
        </a>
      </nav>
      <div class="user-info">
        <span style="font-size: 1.2rem;">Ciao, <strong id="username">Mario</strong></span>
        <form action="registrazioneLogin.html" method="POST" style="display:inline;">
          <button type="submit" class="logout-button">
            <i class="fa-solid fa-person-walking-luggage"></i><br />
            <span>Logout</span>
          </button>
        </form>
      </div>
    </div>
  </header>

  <div class="main-content">
    <div class="dashboard">
      <h2>MATERIALE DIDATTICO</h2>
      <div id="toast-container"></div>

      <div class="materiali-lista">
        <div class="materiale-item">
          <h3>Costituzione Italiana</h3>
          <p>Descrizione del materiale didattico.</p>
          <p><strong>Tipo:</strong> pdf</p>
          <div class="azioni">
            <a class="collegamenti" href="files/materiale1.pdf" target="_blank"><i class="fa-solid fa-folder-open"></i></a>
            <a class="collegamenti" href="modifica_materiale.html"><i class="fa-solid fa-file-signature"></i></a>
            <a class="collegamenti" href="elimina_materiale.html" onclick="return confirm('Sei sicuro di voler eliminare questo materiale?');"><i class="fa-solid fa-file-circle-minus"></i></a>
          </div>
        </div>

        <div class="materiale-item">
          <h3>Repubblica Italiana</h3>
          <p>Descrizione del materiale</p>
          <p><strong>Tipo:</strong> pdf</p>
          <div class="azioni">
            <a href="files/materiale_esempio.pdf" target="_blank"><i class="fa-solid fa-folder-open"></i></a>
          </div>
        </div>
      </div>
      <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
      <center>
      <a href="dashboardStudente.html">
  <button class="back-button"></button>
</a>
</center>
    </div>

    <script>
document.addEventListener('DOMContentLoaded', function () {
    const container = document.querySelector('.materiali-lista');
    const materiali = JSON.parse(localStorage.getItem('materiali')) || [];

    if (materiali.length === 0) {
        container.innerHTML = '<p>Nessun materiale disponibile al momento.</p>';
        return;
    }

    materiali.forEach((m, index) => {
        const div = document.createElement('div');
        div.className = 'materiale-item';

        div.innerHTML = `
            <h3>${m.titolo}</h3>
            <p>${m.descrizione}</p>
            <p><strong>Tipo:</strong> ${m.tipo}</p>
            <div class="azioni">
                <a href="${m.fileData}" target="_blank" download="${m.fileName}" class="collegamenti">
                    <i class="fa-solid fa-folder-open"></i>
                </a>
            </div>
        `;

        container.appendChild(div);
    });
});
</script>

  </div>

</body>
</html>
